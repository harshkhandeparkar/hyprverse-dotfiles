(defpoll notif_count
	:interval "500ms"
	:initial "0"
	"swaync-client --count"
)

(defwidget notifications[]
	(eventbox
		:cursor "pointer"
		:visible {notif_count > 0}
		:active {notif_count > 0}
		:onmiddleclick "swaync-client --close-all"
		(button
			:onclick "swaync-client --toggle-panel"
			:class "panel-btn btn"

			:tooltip "Notifications"

			(label
				:text {notif_count}
				:style "font-weight: bold; font-size: 1.1rem;"
				:width 20
			)
		)
	)
)